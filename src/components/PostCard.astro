---
import CardLink from "@/components/CardLink.astro";
import formatDate from "@/utils/formatDate";

type Props = {
  title: string;
  publishedAt: Date;
  description: string;
  slug: string;
  animationDelay?: number;
};

const { title, publishedAt, description, slug, animationDelay = 0 } = Astro.props;
---

<CardLink href={`/posts/${slug}`} style={{ animationDelay: `${animationDelay}ms` }}>
  <div class="mb-4 flex items-start justify-between gap-3">
    <p class="font-bold text-lg leading-tight group-hover:text-sky-800 dark:group-hover:text-sky-100">
      {title}
    </p>
  </div>

  <time
    datetime={publishedAt.toISOString()}
    class="text-xs uppercase tracking-wide text-sky-700 dark:text-sky-300"
  >
    {formatDate(publishedAt)}
  </time>

  <p
    class="mt-3 text-sm leading-relaxed text-sky-900/70 dark:text-sky-100/90 line-clamp-2 font-light"
  >
    {description}
  </p>
</CardLink>
